# 随机程序生成器

(待完善)

## 使用方法

运行`./run ARCH=native`会自动生成一个随机程序、编译成`main.c`并编译。

## 原理

产生具有一定随机性的程序，用来压力测试CPU正确性。

`instgen.py`的运行流程：

1. 指定参数(基本块数量、数组个数、全局变量列表)
2. 生成一个随机的函数`f()`，会对全局状态进行读取/运算
3. 将`f()`粘贴到一个临时文件里，在本地编译运行(`gcc -m32`)，打印最终变量的值。
4. 将变量值生成的assert粘贴到`main.c`。

